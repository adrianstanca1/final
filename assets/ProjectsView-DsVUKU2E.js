import{a as e,j as s,B as t,C as a}from"./index-D85gtc9V.js";import{r}from"./leaflet-QxLtkkBL.js";import"./react-Z2Iecplj.js";import"./genai-DmvHCT3V.js";const l=({user:l,addToast:n,onProjectSelect:c,selectedProject:i})=>{const[o,d]=r.useState([]),[x,j]=r.useState(!0);r.useEffect(()=>{m()},[]);const m=async()=>{try{j(!0);const s=await e.getProjects();d(s)}catch(s){console.error("Error loading projects:",s),n("Failed to load projects","error")}finally{j(!1)}},h=e=>{switch(e){case"active":return"bg-green-100 text-green-800";case"on-hold":return"bg-yellow-100 text-yellow-800";case"completed":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}};return x?s.jsxs("div",{className:"p-8 text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"}),s.jsx("p",{children:"Loading projects..."})]}):s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"mb-6 flex justify-between items-center",children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Projects"}),s.jsx(t,{onClick:()=>n("Create project feature coming soon","info"),children:"Create Project"})]}),0===o.length?s.jsx(a,{children:s.jsxs(a.Content,{className:"text-center py-8",children:[s.jsx("p",{className:"text-gray-500 mb-4",children:"No projects found."}),s.jsx(t,{onClick:()=>n("Create project feature coming soon","info"),children:"Create Your First Project"})]})}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:o.map(e=>s.jsxs(a,{className:"cursor-pointer transition-all hover:shadow-lg "+(i?.id===e.id?"ring-2 ring-blue-500":""),onClick:()=>c?.(e),children:[s.jsx(a.Header,{children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsx(a.Title,{className:"text-lg",children:e.name}),s.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${h(e.status)}`,children:e.status})]})}),s.jsxs(a.Content,{children:[s.jsx("p",{className:"text-gray-600 mb-4 text-sm",children:e.description}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-500",children:"Start Date:"}),s.jsx("span",{children:new Date(e.startDate).toLocaleDateString()})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-500",children:"End Date:"}),s.jsx("span",{children:new Date(e.endDate).toLocaleDateString()})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-500",children:"Budget:"}),s.jsxs("span",{children:["$",e.budget?.toLocaleString()||"N/A"]})]})]})]})]},e.id))})]})};export{l as ProjectsView,l as default};
