import{j as e,C as t,B as s,T as a}from"./index-D85gtc9V.js";import{r as n}from"./leaflet-QxLtkkBL.js";import"./react-Z2Iecplj.js";import"./genai-DmvHCT3V.js";const r=({projectId:r,user:i})=>{const[l,d]=n.useState(null),[c,o]=n.useState([]),[x,u]=n.useState(!0),[m,j]=n.useState("all");n.useEffect(()=>{r&&(async()=>{try{u(!0);const e={id:r,name:"Sample Project",description:"Project description",status:"ACTIVE",startDate:(new Date).toISOString(),endDate:(new Date).toISOString(),budget:1e5,companyId:i.companyId,clientId:"client1",managerId:i.id,location:{address:"Sample Address",lat:40.7128,lng:-74.006},createdAt:(new Date).toISOString(),updatedAt:(new Date).toISOString()},t=[{id:"1",title:"Foundation Work",description:"Complete foundation setup",status:a.IN_PROGRESS,priority:"HIGH",assignedTo:i.id,projectId:r,dueDate:(new Date).toISOString(),estimatedHours:40,text:"Foundation Work",createdAt:(new Date).toISOString(),updatedAt:(new Date).toISOString()}];d(e),o(t)}catch(e){console.error("Failed to load project:",e)}finally{u(!1)}})()},[r,i.id,i.companyId]);const g=c.filter(e=>"all"===m||e.status===m),p=e=>{switch(e){case a.TODO:return"bg-red-100 text-red-800";case a.IN_PROGRESS:return"bg-yellow-100 text-yellow-800";case a.DONE:return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}};return x?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"text-lg",children:"Loading project details..."})}):l?e.jsxs("div",{className:"space-y-6",children:[e.jsxs(t,{children:[e.jsx(t.Header,{children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsx(t.Title,{className:"text-2xl",children:l.name}),e.jsx("span",{className:`px-3 py-1 rounded-full text-sm ${(e=>{switch(e){case"ACTIVE":return"bg-green-100 text-green-800";case"PLANNING":return"bg-blue-100 text-blue-800";case"ON_HOLD":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}})(l.status)}`,children:l.status})]})}),e.jsxs(t.Content,{children:[e.jsx("p",{className:"text-gray-700 mb-4",children:l.description}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Budget:"})," $",l.budget?.toLocaleString()||"N/A"]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Location:"})," ",l.location?.address||"N/A"]})]})]})]}),e.jsxs(t,{children:[e.jsx(t.Header,{children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx(t.Title,{children:"Tasks"}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(s,{variant:"all"===m?"default":"outline",size:"sm",onClick:()=>j("all"),children:"All"}),e.jsx(s,{variant:m===a.TODO?"default":"outline",size:"sm",onClick:()=>j(a.TODO),children:"To Do"}),e.jsx(s,{variant:m===a.IN_PROGRESS?"default":"outline",size:"sm",onClick:()=>j(a.IN_PROGRESS),children:"In Progress"}),e.jsx(s,{variant:m===a.DONE?"default":"outline",size:"sm",onClick:()=>j(a.DONE),children:"Done"})]})]})}),e.jsx(t.Content,{children:0===g.length?e.jsx("p",{className:"text-gray-500 text-center py-8",children:"No tasks found"}):e.jsx("div",{className:"space-y-3",children:g.map(t=>e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium",children:t.title}),e.jsx("p",{className:"text-sm text-gray-600",children:t.description})]}),e.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${p(t.status)}`,children:t.status.replace("_"," ")})]},t.id))})})]})]}):e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"text-lg text-red-600",children:"Project not found"})})};export{r as ProjectDetailView,r as default};
